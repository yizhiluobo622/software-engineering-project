import{d as r}from"./db-a38e221e.js";import{u as a}from"./id-0d1586fb.js";async function c(e){const s={id:a("res"),courseId:e.courseId,type:e.type,title:e.title,authors:e.authors??[],tags:e.tags??[],blobRef:e.blobRef,meta:e.meta,createdAt:Date.now()};return await r.resources.add(s),e.meta&&e.meta.blob instanceof Blob&&await r.resBlobs.put({id:s.id,blob:e.meta.blob}),s}async function d(){return r.resources.orderBy("createdAt").reverse().toArray()}async function u(e,s){await r.resources.update(e,s)}async function b(e){await r.resBlobs.delete(e),await r.resources.delete(e)}export{c,d as l,b as r,u};
