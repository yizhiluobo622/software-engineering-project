import{d as e}from"./db-a38e221e.js";import{u}from"./id-0d1586fb.js";async function i(s,a,o=[]){const r={id:u("course"),name:s,term:a,tags:o,createdAt:Date.now()};return await e.courses.add(r),r}async function l(){return e.courses.orderBy("name").toArray()}async function w(s){return e.courses.get(s)}async function m(s,a){await e.courses.update(s,a)}async function y(s){await e.transaction("rw",e.modules,e.courses,async()=>{const a=await e.modules.where("courseId").equals(s).toArray(),o=await e.resources.where("courseId").equals(s).toArray(),r=await e.notes.where("courseId").equals(s).toArray(),c=await e.tasks.where("courseId").equals(s).toArray();await e.modules.bulkDelete(a.map(t=>t.id)),await e.resources.bulkDelete(o.map(t=>t.id)),await e.notes.bulkDelete(r.map(t=>t.id)),await e.tasks.bulkDelete(c.map(t=>t.id)),await e.courses.delete(s)})}async function f(s,a,o){const r={id:u("module"),courseId:s,title:a,order:o};return await e.modules.add(r),r}async function p(s){return e.modules.where("courseId").equals(s).sortBy("order")}export{p as a,f as b,i as c,w as g,l,y as r,m as u};
